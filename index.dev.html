<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Micro Survivors</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      * {
        padding: 0;
        margin: 0;
      }

      body,
      html {
        background: #333;
        text-align: center;
        padding: 0;
        margin: 0;
      }

      canvas {
        background-color: #000;
        margin: auto;
        display: block;
      }
    </style>
    <script src="main.js"></script>
  </head>
  <body>
    <script>
      const [canvas, player, manager, setScale] = microSurvivors();
      const viewWidth = window.innerWidth;
      const viewHeight = window.innerHeight;

      const scale = Math.min(
        viewWidth / canvas.width,
        viewHeight / canvas.height,
      );

      canvas.style.transform = `scale(${scale})`;
      canvas.style.transformOrigin = "top left";

      setScale(scale);

      window.DEBUG = {
        player,
        manager,

        setPlayer: (set) => {
          for (const [key, value] of Object.entries(set)) {
            player[key] = value;
          }
        },
        setManager: (set) => {
          for (const [key, value] of Object.entries(set)) {
            manager[key] = value;
          }
        },
      };
    </script>
  </body>
</html>
